"use strict";(self.webpackChunkadmin_classrooms=self.webpackChunkadmin_classrooms||[]).push([[602],{9602:(j,d,i)=>{i.r(d),i.d(d,{StudentsModule:()=>$});var a=i(6895),c=i(2214),t=i(8256);let C=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-students"]],decls:4,vars:0,consts:[[1,"header"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Students"),t.qZA()(),t._UZ(3,"router-outlet"))},dependencies:[c.lC],styles:[".header[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--main-color)}"]}),e})();var S=i(5861),m=i(7579),p=i(2722),g=i(4098),f=i(1776),h=i(7733);const v=function(){return{hasOptions:!0,hasDelete:!0}};let b=(()=>{class e{constructor(n,o,s){this.studentsService=n,this.alertsService=o,this.router=s,this.tableHeader=[],this.unsubscribe$=new m.x}ngOnInit(){this.getStudents(),this.setTableHeader()}addStudent(){this.router.navigate(["/students/create"])}viewStudent(n){this.router.navigate(["/students/detail",n])}removeStudent(n){var o=this;return(0,S.Z)(function*(){const{isConfirmed:s}=yield o.alertsService.confirmAlertDelete("Student");s&&o.studentsService.removeStudent(n).pipe((0,p.R)(o.unsubscribe$)).subscribe(l=>{l&&(o.getStudents(),o.alertsService.notifyAlert("Student successfully removed!","success"))})})()}getStudents(){this.studentsList=this.studentsService.getStudents()}setTableHeader(){this.tableHeader=[{title:"Name",name:"name"},{title:"Age (years)",name:"age"},{title:"Gender",name:"gender"}]}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.q),t.Y36(f.m),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-students-list"]],decls:2,vars:7,consts:[[3,"addButtonText","data","headers","tableConfig","onClickAdd","onClickView","onClickDelete"]],template:function(n,o){1&n&&(t.TgZ(0,"app-general-table",0),t.NdJ("onClickAdd",function(){return o.addStudent()})("onClickView",function(l){return o.viewStudent(l)})("onClickDelete",function(l){return o.removeStudent(l)}),t.ALo(1,"async"),t.qZA()),2&n&&t.Q6J("addButtonText","Add Student")("data",t.lcZ(1,4,o.studentsList))("headers",o.tableHeader)("tableConfig",t.DdM(6,v))},dependencies:[h.b,a.Ov]}),e})();var u=i(433),_=i(2439),T=i(6769),Z=i(9445);function A(e,r){1&e&&t.GkF(0)}function x(e,r){1&e&&t.GkF(0)}function y(e,r){if(1&e&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function O(e,r){1&e&&t.GkF(0)}function F(e,r){if(1&e&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij(" ",n.name," ")}}function J(e,r){1&e&&t.GkF(0)}function M(e,r){if(1&e&&(t.TgZ(0,"small",21),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&e){const n=t.oxw().control;t.xp6(1),t.hij("The ",t.lcZ(2,1,n)," field is required")}}function N(e,r){if(1&e&&t.YNc(0,M,3,3,"small",20),2&e){const n=r.control,o=t.oxw();t.Q6J("ngIf",o.getValidation(n,"required"))}}const U=function(){return{control:"name"}},Y=function(){return{control:"age"}},L=function(){return{control:"gender"}},q=function(){return{control:"courseId"}},D=function(){return["/courses"]},Q=[{path:"",component:C,children:[{path:"list",component:b},{path:"create",component:(()=>{class e{constructor(n,o,s,l,G){this.fb=n,this.coursesService=o,this.studentService=s,this.router=l,this.alertService=G,this.genders=_.d8,this.unsubscribe$=new m.x}ngOnInit(){this.getCourses(),this.initializeCreateForm()}saveStudent(){this.studentService.saveStudent(this.createForm.value).pipe((0,p.R)(this.unsubscribe$)).subscribe(n=>{n&&(this.alertService.notifyAlert("\xa1Student saved successfully!","success"),this.router.navigate(["/students"]))})}getValidation(n,o){const s=this.createForm.get(n);return s?.touched&&s.hasError(o)}getCourses(){this.courses=this.coursesService.getCourses()}initializeCreateForm(){this.createForm=this.fb.group({id:[""],name:["",[u.kI.required]],age:["",[u.kI.required]],gender:["",[u.kI.required]],courseId:["",[u.kI.required]]})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.qu),t.Y36(T.N),t.Y36(g.q),t.Y36(c.F0),t.Y36(f.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-student-create"]],decls:37,vars:20,consts:[["subtitle","Create Form","route","/students"],[1,"content"],[1,"horizontal-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","name",1,"form-group__label"],["type","text","id","name","formControlName","name",1,"form-group__input"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","age",1,"form-group__label"],["type","number","id","age","formControlName","age",1,"form-group__input"],["for","gender",1,"form-group__label"],["id","gender","formControlName","gender",1,"form-group__input"],["disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["for","course",1,"form-group__label"],["id","course","formControlName","courseId",1,"form-group__input"],[1,"form-group","form-group--buttons"],[1,"btn","btn-secondary",3,"routerLink"],["type","submit",1,"btn","btn-primary",3,"disabled"],["errorMessage",""],[3,"value"],["class","text-error",4,"ngIf"],[1,"text-error"]],template:function(n,o){if(1&n&&(t._UZ(0,"app-subtitle-box",0),t.TgZ(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return o.saveStudent()}),t.TgZ(3,"div",3)(4,"label",4),t._uU(5,"Name:"),t.qZA(),t._UZ(6,"input",5),t.YNc(7,A,1,0,"ng-container",6),t.qZA(),t.TgZ(8,"div",3)(9,"label",7),t._uU(10,"Age (years):"),t.qZA(),t._UZ(11,"input",8),t.YNc(12,x,1,0,"ng-container",6),t.qZA(),t.TgZ(13,"div",3)(14,"label",9),t._uU(15,"Gender:"),t.qZA(),t.TgZ(16,"select",10)(17,"option",11),t._uU(18," Choose an option "),t.qZA(),t.YNc(19,y,2,2,"option",12),t.qZA(),t.YNc(20,O,1,0,"ng-container",6),t.qZA(),t.TgZ(21,"div",3)(22,"label",13),t._uU(23,"Course:"),t.qZA(),t.TgZ(24,"select",14)(25,"option",11),t._uU(26," Choose an option "),t.qZA(),t.YNc(27,F,2,2,"option",12),t.ALo(28,"async"),t.qZA(),t.YNc(29,J,1,0,"ng-container",6),t.qZA(),t.TgZ(30,"div",15)(31,"button",16),t._uU(32,"Cancel"),t.qZA(),t.TgZ(33,"button",17),t._uU(34,"Save"),t.qZA()()()(),t.YNc(35,N,1,1,"ng-template",null,18,t.W1O)),2&n){const s=t.MAs(36);t.xp6(2),t.Q6J("formGroup",o.createForm),t.xp6(5),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.DdM(15,U)),t.xp6(5),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.DdM(16,Y)),t.xp6(7),t.Q6J("ngForOf",o.genders),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.DdM(17,L)),t.xp6(7),t.Q6J("ngForOf",t.lcZ(28,13,o.courses)),t.xp6(2),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.DdM(18,q)),t.xp6(2),t.Q6J("routerLink",t.DdM(19,D)),t.xp6(2),t.Q6J("disabled",o.createForm.invalid)}},dependencies:[a.sg,a.O5,a.tP,c.rH,Z.y,u._Y,u.YN,u.Kr,u.Fj,u.wV,u.EJ,u.JJ,u.JL,u.sg,u.u,a.Ov,a.rS],styles:[".title[_ngcontent-%COMP%]{color:#74767d;margin-bottom:10px}.content[_ngcontent-%COMP%]{margin:40px auto;background:var(--soft-background);width:50%;padding:20px;border-radius:3px}"]}),e})()},{path:"**",redirectTo:"list"}]}];let k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(Q),c.Bz]}),e})();var I=i(1677);let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.ez,k,I.K,u.UX]}),e})()}}]);