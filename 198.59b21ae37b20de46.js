"use strict";(self.webpackChunkadmin_classrooms=self.webpackChunkadmin_classrooms||[]).push([[198],{7198:(P,C,i)=>{i.r(C),i.d(C,{CoursesModule:()=>H});var u=i(6895),l=i(2214),e=i(8256);let _=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-courses"]],decls:4,vars:0,consts:[[1,"header"],[1,"header__title"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Courses"),e.qZA()(),e._UZ(3,"router-outlet"))},dependencies:[l.lC],styles:[".header[_ngcontent-%COMP%]{margin-bottom:20px}.header__title[_ngcontent-%COMP%]{color:var(--main-color)}"]}),t})();var v=i(5861),p=i(7579),d=i(2722),m=i(6769),f=i(1776),h=i(7733);const Z=function(){return{hasOptions:!0,hasView:!0,hasDelete:!0}};let T=(()=>{class t{constructor(o,n,s){this.coursesService=o,this.alertsService=n,this.router=s,this.tableHeader=[],this.unsubscribe$=new p.x}ngOnInit(){this.getCourses(),this.setTableHeader()}addCourse(){this.router.navigate(["/courses/create"])}viewCourse(o){this.router.navigate(["/courses/detail",o])}removeCourse(o){var n=this;return(0,v.Z)(function*(){const{isConfirmed:s}=yield n.alertsService.confirmAlertDelete("Course");s&&n.coursesService.deleteCourse(o).pipe((0,d.R)(n.unsubscribe$)).subscribe(c=>{c&&(n.alertsService.notifyAlert("\xa1Course successfully deleted!","success"),n.getCourses())})})()}getCourses(){this.coursesList=this.coursesService.getCourses()}setTableHeader(){this.tableHeader=[{title:"Name",name:"name"},{title:"Director",name:"director"},{title:"Session",name:"session"}]}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(m.N),e.Y36(f.m),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-courses-list"]],decls:2,vars:7,consts:[[3,"addButtonText","data","headers","tableConfig","onClickAdd","onClickView","onClickDelete"]],template:function(o,n){1&o&&(e.TgZ(0,"app-general-table",0),e.NdJ("onClickAdd",function(){return n.addCourse()})("onClickView",function(c){return n.viewCourse(c)})("onClickDelete",function(c){return n.removeCourse(c)}),e.ALo(1,"async"),e.qZA()),2&o&&e.Q6J("addButtonText","Add Course")("data",e.lcZ(1,4,n.coursesList))("headers",n.tableHeader)("tableConfig",e.DdM(6,Z))},dependencies:[h.b,u.Ov]}),t})();var A=i(4098),b=i(9445);let x=(()=>{class t{constructor(o,n,s){this.activatedRoute=o,this.coursesService=n,this.studentsService=s,this.tableHeader=[],this.idCourse=this.activatedRoute.snapshot.params.id,this.unsubscribe$=new p.x}ngOnInit(){this.getCourseData(),this.getStudentsById(),this.setTableHeader()}getCourseData(){this.coursesService.getCourseById(Number(this.idCourse)).pipe((0,d.R)(this.unsubscribe$)).subscribe(o=>{this.courseData=o})}getStudentsById(){this.students=this.studentsService.getStudentsByCourseId(Number(this.idCourse))}setTableHeader(){this.tableHeader=[{title:"Name",name:"name"},{title:"Age",name:"age"},{title:"Gender",name:"gender"}]}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(l.gz),e.Y36(m.N),e.Y36(A.q))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-course-detail"]],decls:33,vars:9,consts:[["subtitle","Detail","route","/courses"],[1,"content"],[1,"information"],[1,"data"],[1,"data__title"],[1,"data__value"],[1,"students-information"],[1,"title"],[3,"headers","data"]],template:function(o,n){1&o&&(e._UZ(0,"app-subtitle-box",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"h3",5),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"h4",4),e._uU(10,"Grade"),e.qZA(),e.TgZ(11,"h3",5),e._uU(12),e.qZA()(),e.TgZ(13,"div",3)(14,"h4",4),e._uU(15,"Subgroup"),e.qZA(),e.TgZ(16,"h3",5),e._uU(17),e.qZA()(),e.TgZ(18,"div",3)(19,"h4",4),e._uU(20,"Director"),e.qZA(),e.TgZ(21,"h3",5),e._uU(22),e.qZA()(),e.TgZ(23,"div",3)(24,"h4",4),e._uU(25,"Session"),e.qZA(),e.TgZ(26,"h3",5),e._uU(27),e.qZA()()(),e.TgZ(28,"div",6)(29,"h3",7),e._uU(30,"Course students"),e.qZA(),e._UZ(31,"app-general-table",8),e.ALo(32,"async"),e.qZA()()),2&o&&(e.xp6(7),e.Oqu(null==n.courseData?null:n.courseData.name),e.xp6(5),e.Oqu(null==n.courseData?null:n.courseData.grade),e.xp6(5),e.Oqu(null==n.courseData?null:n.courseData.subGroup),e.xp6(5),e.Oqu(null==n.courseData?null:n.courseData.director),e.xp6(5),e.Oqu(null==n.courseData?null:n.courseData.session),e.xp6(4),e.Q6J("headers",n.tableHeader)("data",e.lcZ(32,7,n.students)))},dependencies:[h.b,b.y,u.Ov],styles:[".content[_ngcontent-%COMP%]{margin-top:40px;display:flex}.data[_ngcontent-%COMP%]{background:var(--soft-background);padding:10px;border-radius:3px}.data__title[_ngcontent-%COMP%]{color:var(--main-color)}.data__value[_ngcontent-%COMP%]{color:var(--text-grey)}.information[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:1.5rem;margin-bottom:2rem;flex-basis:35%;padding-right:20px}.students-information[_ngcontent-%COMP%]{padding-left:20px;flex-basis:65%;border-left:1px solid var(--color-grey)}"]}),t})();var a=i(433),g=i(2439);function y(t,r){1&t&&e.GkF(0)}function O(t,r){if(1&t&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o," ")}}function D(t,r){1&t&&e.GkF(0)}function q(t,r){if(1&t&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o," ")}}function S(t,r){1&t&&e.GkF(0)}function U(t,r){if(1&t&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o," ")}}function F(t,r){1&t&&e.GkF(0)}function M(t,r){if(1&t&&(e.TgZ(0,"small",21),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&t){const o=e.oxw().control;e.xp6(1),e.hij("The ",e.lcZ(2,1,o)," field is required")}}function J(t,r){if(1&t&&e.YNc(0,M,3,3,"small",20),2&t){const o=r.control,n=e.oxw();e.Q6J("ngIf",n.getValidation(o,"required"))}}const N=function(){return{control:"director"}},Y=function(){return{control:"grade"}},G=function(){return{control:"subGroup"}},$=function(){return{control:"session"}},Q=function(){return["/courses"]},L=[{path:"",component:_,children:[{path:"list",component:T},{path:"detail/:id",component:x},{path:"create",component:(()=>{class t{constructor(o,n,s,c){this.fb=o,this.coursesService=n,this.router=s,this.alertService=c,this.grades=g.kI,this.subgroups=g.vz,this.sessions=g.iR,this.unsubscribe$=new p.x}ngOnInit(){this.initializeCreateForm()}saveCourse(){const{grade:o,subGroup:n}=this.createForm.value;this.createForm.get("name")?.setValue(`${o} ${n}`),this.coursesService.saveCourse(this.createForm.value).pipe((0,d.R)(this.unsubscribe$)).subscribe(s=>{s&&this.onSaved()})}getValidation(o,n){const s=this.createForm.get(o);return s?.touched&&s.hasError(n)}onSaved(){this.alertService.notifyAlert("\xa1Course saved successfully!","success"),this.router.navigate(["/courses"])}initializeCreateForm(){this.createForm=this.fb.group({id:[""],name:[""],director:["",[a.kI.required]],grade:["",[a.kI.required]],subGroup:["",[a.kI.required]],session:["",[a.kI.required]]})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(a.qu),e.Y36(m.N),e.Y36(l.F0),e.Y36(f.m))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-course-create"]],decls:39,vars:19,consts:[["subtitle","Create Form","route","/courses"],[1,"content"],[1,"horizontal-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","director",1,"form-group__label"],["type","text","id","director","formControlName","director",1,"form-group__input"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["for","grade",1,"form-group__label"],["id","grade","formControlName","grade",1,"form-group__input"],["disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["for","subGroup",1,"form-group__label"],["id","subGroup","formControlName","subGroup",1,"form-group__input"],["for","session",1,"form-group__label"],["id","session","formControlName","session",1,"form-group__input"],[1,"form-group","form-group--buttons"],[1,"btn","btn-secondary",3,"routerLink"],["type","submit",1,"btn","btn-primary",3,"disabled"],["errorMessage",""],[3,"value"],["class","text-error",4,"ngIf"],[1,"text-error"]],template:function(o,n){if(1&o&&(e._UZ(0,"app-subtitle-box",0),e.TgZ(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return n.saveCourse()}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5,"Director:"),e.qZA(),e._UZ(6,"input",5),e.YNc(7,y,1,0,"ng-container",6),e.qZA(),e.TgZ(8,"div",3)(9,"label",7),e._uU(10,"Grade:"),e.qZA(),e.TgZ(11,"select",8)(12,"option",9),e._uU(13," Choose an option "),e.qZA(),e.YNc(14,O,2,2,"option",10),e.qZA(),e.YNc(15,D,1,0,"ng-container",6),e.qZA(),e.TgZ(16,"div",3)(17,"label",11),e._uU(18,"Subgroup:"),e.qZA(),e.TgZ(19,"select",12)(20,"option",9),e._uU(21," Choose an option "),e.qZA(),e.YNc(22,q,2,2,"option",10),e.qZA(),e.YNc(23,S,1,0,"ng-container",6),e.qZA(),e.TgZ(24,"div",3)(25,"label",13),e._uU(26,"Session:"),e.qZA(),e.TgZ(27,"select",14)(28,"option",9),e._uU(29," Choose an option "),e.qZA(),e.YNc(30,U,2,2,"option",10),e.qZA(),e.YNc(31,F,1,0,"ng-container",6),e.qZA(),e.TgZ(32,"div",15)(33,"button",16),e._uU(34,"Cancel"),e.qZA(),e.TgZ(35,"button",17),e._uU(36,"Save"),e.qZA()()()(),e.YNc(37,J,1,1,"ng-template",null,18,e.W1O)),2&o){const s=e.MAs(38);e.xp6(2),e.Q6J("formGroup",n.createForm),e.xp6(5),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.DdM(14,N)),e.xp6(7),e.Q6J("ngForOf",n.grades),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.DdM(15,Y)),e.xp6(7),e.Q6J("ngForOf",n.subgroups),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.DdM(16,G)),e.xp6(7),e.Q6J("ngForOf",n.sessions),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.DdM(17,$)),e.xp6(2),e.Q6J("routerLink",e.DdM(18,Q)),e.xp6(2),e.Q6J("disabled",n.createForm.invalid)}},dependencies:[u.sg,u.O5,u.tP,l.rH,b.y,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,u.rS],styles:[".title[_ngcontent-%COMP%]{color:var(--text-grey);margin-bottom:10px}.content[_ngcontent-%COMP%]{margin:40px auto;background:var(--soft-background);width:50%;padding:20px;border-radius:3px}"]}),t})()},{path:"**",redirectTo:"list"}]}];let k=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(L),l.Bz]}),t})();var I=i(1677);let H=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,k,I.K,a.UX]}),t})()}}]);